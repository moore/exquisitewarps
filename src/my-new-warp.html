<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-slider/paper-slider.html">
<link rel="import" href="../bower_components/iron-form/iron-form.html">

<dom-module id="my-new-warp">

  <template>

    <style>
      :host {
        display: block;
        padding: 10px;
      }
      .card {
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
        padding: 16px;
        margin: 24px;
        border-radius: 5px;
        background-color: #fff;
        color: #757575;
      }
      paper-card {
          width: 100%;
      }
      h1 {
        font-size: 22px;
        color: #212121;
      }
    </style>

    <!--    <div class="card">  -->
          <form is="iron-form" method="get" action="/" id="generate">
      <paper-card>
        <div class="card-content">

              <paper-input id="title" label="warp name" name="warp-name"></paper-input>

              <label>how many exquisite weavers?</label>
              <paper-radio-group id="weaver-count" selected="4">
                <paper-radio-button name="3">3</paper-radio-button>
                <paper-radio-button name="4">4</paper-radio-button>
              </paper-radio-group>
              <div>maximum colors per warp:</div>
              <paper-slider id="color-count" snaps editable min="2" max="20" value="12"></paper-slider>
          </div>
          <div class="card-actions">

              <paper-button on-click="addWarp">Generate</paper-button>
        </div>
      </paper-card>
          </form>

  </template>

  <script>

    Polymer({

        is: 'my-new-warp',
        behaviors: [ ReduxBehavior ],
        actions: {
            add: function ( title, weaverCount, colorCount) {
                return   {
                    type       : 'ADD_WARP',
                    title      : title,
                    weaverCount: weaverCount,
                    maxPalette : colorCount,
                }
                
            }
        },
        addWarp : function ( ) {
            var title       = this.$['title'].value;
            var weaverCount = this.$['weaver-count'].selected;
            var colorCount  = this.$['color-count'].value;

            this.dispatch('add', title, weaverCount, colorCount );
        },
    
    });
  </script>

</dom-module>
